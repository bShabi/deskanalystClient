{"ast":null,"code":"var _jsxFileName = \"/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/Manger/Account/AddAccountPage.js\";\nimport { TextField, Grid, makeStyles, Button } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport ManagerControl from '../ManagerControl';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nconst useStyle = makeStyles(theme => ({\n  root: {\n    '& .MuiGrid-root': {\n      width: '80%',\n      margin: theme.spacing(2)\n    }\n  }\n}));\n\nclass AddAccountPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      passwordConfirm: null,\n      team: '',\n      allTeam: [],\n      permission: null\n    };\n    this.changeValue = this.changeValue.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.registerUserToDB = this.registerUserToDB.bind(this);\n    this.getAllTeams = this.getAllTeams.bind(this);\n    this.isUserExist = this.isUserExist.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAllTeams();\n    toast.configure();\n  }\n\n  getAllTeams() {\n    axios.get('http://localhost:5000/teams/').then(result => {\n      const myTeam = [];\n      result.data.forEach(team => {\n        myTeam.push(team.teamName);\n      });\n      this.setState({\n        allTeam: myTeam\n      });\n    });\n  }\n\n  changeValue(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    var account = this.state;\n    var arrData = [];\n    Object.entries(account).map(([key, value]) => {\n      arrData.push(value);\n    });\n\n    for (let value of Object.values(arrData)) {\n      if (value == null || String(value).length === 0) {\n        toast.error('Please inert a value ');\n        return;\n      }\n    }\n\n    if (this.state.password !== this.state.passwordConfirm) {\n      toast.error('please make sure your password match');\n      return;\n    } // check if email not exist\n\n\n    var isUserExist = console.log(this.isUserExist());\n\n    if (!isUserExist) {\n      this.registerUserToDB();\n    } else {\n      toast.warning('User Exist in DB');\n    } // document.getElementById(\"username\").style.color = \"red\";\n    // console.log(this.state)\n    // this.registerUserToDB()\n\n  }\n\n  isUserExist() {\n    axios.post('http://localhost:5000/users/login', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      if (response !== null) return false;else return true;\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  registerUserToDB() {\n    axios.post('http://localhost:5000/users/add', {\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      email: this.state.email,\n      password: Number(this.state.password),\n      teamName: this.state.team,\n      permission: this.state.permission\n    }).then(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const classes = makeStyles(theme => ({\n      root: {\n        '& .MuiTextField-root': {\n          margin: theme.spacing(1),\n          width: 200\n        }\n      }\n    }));\n    const teams = this.state.allTeam;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ManagerControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, \" \"), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \" First Name \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"firstName\",\n      placeholder: \"First Name\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, \" Last Name \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lastName\",\n      placeholder: \"Last name\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }\n    }, \" Team \"), ' ', /*#__PURE__*/React.createElement(\"select\", {\n      id: \"team\",\n      name: \"team\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, ' ', \"Please select a Team\", ' '), ' ', teams.map((team, index) => /*#__PURE__*/React.createElement(\"option\", {\n      value: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    }, \" \", team, \" \")), ' '), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }, \" Email \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"email\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    }, \" Password \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 19\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, \" Confirm Password \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"passwordConfirm\",\n      placeholder: \"Confirm password\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    }, \" Permission \"), ' ', /*#__PURE__*/React.createElement(\"select\", {\n      id: \"permission\",\n      name: \"permission\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Coach\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, \" Coach \"), ' ', /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Analyst\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, \" Analyst \"), ' '), ' '), ' '), ' '), ' ', /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleSubmit,\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, \"Register\", ' '), ' '), ' '), ' ');\n  }\n\n}\n\nexport default AddAccountPage;","map":{"version":3,"sources":["/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/Manger/Account/AddAccountPage.js"],"names":["TextField","Grid","makeStyles","Button","React","useState","useEffect","ManagerControl","axios","ToastContainer","toast","useStyle","theme","root","width","margin","spacing","AddAccountPage","Component","constructor","props","state","firstName","lastName","email","password","passwordConfirm","team","allTeam","permission","changeValue","bind","handleSubmit","registerUserToDB","getAllTeams","isUserExist","componentDidMount","configure","get","then","result","myTeam","data","forEach","push","teamName","setState","name","value","e","account","arrData","Object","entries","map","key","values","String","length","error","console","log","warning","post","response","Number","render","classes","teams","target","index"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,UAA1B,EAAsCC,MAAtC,QAAoD,mBAApD;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AAEA,MAAMC,QAAQ,GAAGT,UAAU,CAAEU,KAAD,KAAY;AACtCC,EAAAA,IAAI,EAAE;AACJ,uBAAmB;AACjBC,MAAAA,KAAK,EAAE,KADU;AAEjBC,MAAAA,MAAM,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd;AAFS;AADf;AADgC,CAAZ,CAAD,CAA3B;;AASA,MAAMC,cAAN,SAA6Bb,KAAK,CAACc,SAAnC,CAA6C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,QAAQ,EAAE,IAFC;AAGXC,MAAAA,KAAK,EAAE,IAHI;AAIXC,MAAAA,QAAQ,EAAE,IAJC;AAKXC,MAAAA,eAAe,EAAE,IALN;AAMXC,MAAAA,IAAI,EAAE,EANK;AAOXC,MAAAA,OAAO,EAAE,EAPE;AAQXC,MAAAA,UAAU,EAAE;AARD,KAAb;AAUA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKI,WAAL,GAAmB,KAAKA,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AACDK,EAAAA,iBAAiB,GAAG;AAClB,SAAKF,WAAL;AACAxB,IAAAA,KAAK,CAAC2B,SAAN;AACD;;AACDH,EAAAA,WAAW,GAAG;AACZ1B,IAAAA,KAAK,CAAC8B,GAAN,CAAU,8BAAV,EAA0CC,IAA1C,CAAgDC,MAAD,IAAY;AACzD,YAAMC,MAAM,GAAG,EAAf;AACAD,MAAAA,MAAM,CAACE,IAAP,CAAYC,OAAZ,CAAqBhB,IAAD,IAAU;AAC5Bc,QAAAA,MAAM,CAACG,IAAP,CAAYjB,IAAI,CAACkB,QAAjB;AACD,OAFD;AAGA,WAAKC,QAAL,CAAc;AACZlB,QAAAA,OAAO,EAAEa;AADG,OAAd;AAGD,KARD;AASD;;AACDX,EAAAA,WAAW,CAACiB,IAAD,EAAOC,KAAP,EAAc;AACvB,SAAKF,QAAL,CAAc;AACZ,OAACC,IAAD,GAAQC;AADI,KAAd;AAGD;;AACDhB,EAAAA,YAAY,CAACiB,CAAD,EAAI;AACd,QAAIC,OAAO,GAAG,KAAK7B,KAAnB;AACA,QAAI8B,OAAO,GAAG,EAAd;AACAC,IAAAA,MAAM,CAACC,OAAP,CAAeH,OAAf,EAAwBI,GAAxB,CAA4B,CAAC,CAACC,GAAD,EAAMP,KAAN,CAAD,KAAkB;AAC5CG,MAAAA,OAAO,CAACP,IAAR,CAAaI,KAAb;AACD,KAFD;;AAGA,SAAK,IAAIA,KAAT,IAAkBI,MAAM,CAACI,MAAP,CAAcL,OAAd,CAAlB,EAA0C;AACxC,UAAIH,KAAK,IAAI,IAAT,IAAiBS,MAAM,CAACT,KAAD,CAAN,CAAcU,MAAd,KAAyB,CAA9C,EAAiD;AAC/ChD,QAAAA,KAAK,CAACiD,KAAN,CAAY,uBAAZ;AACA;AACD;AACF;;AACD,QAAI,KAAKtC,KAAL,CAAWI,QAAX,KAAwB,KAAKJ,KAAL,CAAWK,eAAvC,EAAwD;AACtDhB,MAAAA,KAAK,CAACiD,KAAN,CAAY,sCAAZ;AACA;AACD,KAfa,CAiBd;;;AACA,QAAIxB,WAAW,GAAGyB,OAAO,CAACC,GAAR,CAAY,KAAK1B,WAAL,EAAZ,CAAlB;;AACA,QAAI,CAACA,WAAL,EAAkB;AAChB,WAAKF,gBAAL;AACD,KAFD,MAEO;AACLvB,MAAAA,KAAK,CAACoD,OAAN,CAAc,kBAAd;AACD,KAvBa,CAyBd;AACA;AACA;;AACD;;AACD3B,EAAAA,WAAW,GAAG;AACZ3B,IAAAA,KAAK,CACFuD,IADH,CACQ,mCADR,EAC6C;AACzCvC,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KADuB;AAEzCC,MAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI;AAFoB,KAD7C,EAKGc,IALH,CAMKyB,QAAD,IAAc;AACZ,UAAIA,QAAQ,KAAK,IAAjB,EAAuB,OAAO,KAAP,CAAvB,KACK,OAAO,IAAP;AACN,KATL,EAUKL,KAAD,IAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAZL;AAcD;;AAED1B,EAAAA,gBAAgB,GAAG;AACjBzB,IAAAA,KAAK,CACFuD,IADH,CACQ,iCADR,EAC2C;AACvCzC,MAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SADiB;AAEvCC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QAFkB;AAGvCC,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAHqB;AAIvCC,MAAAA,QAAQ,EAAEwC,MAAM,CAAC,KAAK5C,KAAL,CAAWI,QAAZ,CAJuB;AAKvCoB,MAAAA,QAAQ,EAAE,KAAKxB,KAAL,CAAWM,IALkB;AAMvCE,MAAAA,UAAU,EAAE,KAAKR,KAAL,CAAWQ;AANgB,KAD3C,EASGU,IATH,CAUKyB,QAAD,IAAc;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACD,KAZL,EAaKL,KAAD,IAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAfL;AAiBD;;AAEDO,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAGjE,UAAU,CAAEU,KAAD,KAAY;AACrCC,MAAAA,IAAI,EAAE;AACJ,gCAAwB;AACtBE,UAAAA,MAAM,EAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,CADc;AAEtBF,UAAAA,KAAK,EAAE;AAFe;AADpB;AAD+B,KAAZ,CAAD,CAA1B;AAQA,UAAMsD,KAAK,GAAG,KAAK/C,KAAL,CAAWO,OAAzB;AACA,wBACE,uDACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EACiC,GADjC,eAEE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,EAAE,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAC4C,GAD5C,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,WAFP;AAGE,MAAA,WAAW,EAAC,YAHd;AAIE,MAAA,QAAQ,EAAGqB,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASK,GATL,CADF,EAWS,GAXT,eAYE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EACgD,GADhD,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,WAAW,EAAC,WAHd;AAIE,MAAA,QAAQ,EAAGC,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASK,GATL,CAZF,EAsBS,GAtBT,eAuBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EACwB,GADxB,eAEE;AACE,MAAA,EAAE,EAAC,MADL;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,QAAQ,EAAGC,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,QAAQ,MAAzB;AAA0B,MAAA,KAAK,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,0BAEuB,GAFvB,CANF,EASY,GATZ,EAUGoB,KAAK,CAACd,GAAN,CAAU,CAAC3B,IAAD,EAAO2C,KAAP,kBACT;AAAQ,MAAA,KAAK,EAAE3C,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAuBA,IAAvB,MADD,CAVH,EAYM,GAZN,CAFF,EAeY,GAfZ,CAvBF,EAuCS,GAvCT,eAwCE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EACyB,GADzB,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,WAAW,EAAC,OAHd;AAIE,MAAA,QAAQ,EAAGsB,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASK,GATL,CAxCF,EAkDS,GAlDT,eAmDE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAC4B,GAD5B,eAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,QAAQ,EAAGC,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASK,GATL,CAnDF,EA6DS,GA7DT,eA8DE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EACoC,GADpC,eAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,iBAFP;AAGE,MAAA,WAAW,EAAC,kBAHd;AAIE,MAAA,QAAQ,EAAGC,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASK,GATL,CA9DF,EAwES,GAxET,eAyEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAC8B,GAD9B,eAEE;AACE,MAAA,EAAE,EAAC,YADL;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,QAAQ,EAAGC,CAAD,IACR,KAAKnB,WAAL,CAAiBmB,CAAC,CAACoB,MAAF,CAAStB,IAA1B,EAAgCE,CAAC,CAACoB,MAAF,CAASrB,KAAzC,CAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,EAMyC,GANzC,eAOE;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,EAO6C,GAP7C,CAFF,EAUY,GAVZ,CAzEF,EAoFS,GApFT,CAFF,EAuFS,GAvFT,CADF,EAyFS,GAzFT,eA0FE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKhB,YAApC;AAAkD,MAAA,SAAS,EAAC,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACW,GADX,CA1FF,EA4FY,GA5FZ,CADF,EA8FS,GA9FT,CAFF,EAiGU,GAjGV,CADF;AAqGD;;AAxN0C;;AA2N7C,eAAef,cAAf","sourcesContent":["import { TextField, Grid, makeStyles, Button } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport ManagerControl from '../ManagerControl';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\n\nconst useStyle = makeStyles((theme) => ({\n  root: {\n    '& .MuiGrid-root': {\n      width: '80%',\n      margin: theme.spacing(2),\n    },\n  },\n}));\n\nclass AddAccountPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      passwordConfirm: null,\n      team: '',\n      allTeam: [],\n      permission: null,\n    };\n    this.changeValue = this.changeValue.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.registerUserToDB = this.registerUserToDB.bind(this);\n    this.getAllTeams = this.getAllTeams.bind(this);\n    this.isUserExist = this.isUserExist.bind(this);\n  }\n  componentDidMount() {\n    this.getAllTeams();\n    toast.configure();\n  }\n  getAllTeams() {\n    axios.get('http://localhost:5000/teams/').then((result) => {\n      const myTeam = [];\n      result.data.forEach((team) => {\n        myTeam.push(team.teamName);\n      });\n      this.setState({\n        allTeam: myTeam,\n      });\n    });\n  }\n  changeValue(name, value) {\n    this.setState({\n      [name]: value,\n    });\n  }\n  handleSubmit(e) {\n    var account = this.state;\n    var arrData = [];\n    Object.entries(account).map(([key, value]) => {\n      arrData.push(value);\n    });\n    for (let value of Object.values(arrData)) {\n      if (value == null || String(value).length === 0) {\n        toast.error('Please inert a value ');\n        return;\n      }\n    }\n    if (this.state.password !== this.state.passwordConfirm) {\n      toast.error('please make sure your password match');\n      return;\n    }\n\n    // check if email not exist\n    var isUserExist = console.log(this.isUserExist());\n    if (!isUserExist) {\n      this.registerUserToDB();\n    } else {\n      toast.warning('User Exist in DB');\n    }\n\n    // document.getElementById(\"username\").style.color = \"red\";\n    // console.log(this.state)\n    // this.registerUserToDB()\n  }\n  isUserExist() {\n    axios\n      .post('http://localhost:5000/users/login', {\n        email: this.state.email,\n        password: this.state.password,\n      })\n      .then(\n        (response) => {\n          if (response !== null) return false;\n          else return true;\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }\n\n  registerUserToDB() {\n    axios\n      .post('http://localhost:5000/users/add', {\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        email: this.state.email,\n        password: Number(this.state.password),\n        teamName: this.state.team,\n        permission: this.state.permission,\n      })\n      .then(\n        (response) => {\n          console.log(response);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }\n\n  render() {\n    const classes = makeStyles((theme) => ({\n      root: {\n        '& .MuiTextField-root': {\n          margin: theme.spacing(1),\n          width: 200,\n        },\n      },\n    }));\n    const teams = this.state.allTeam;\n    return (\n      <>\n        <ManagerControl />\n        <form>\n          <div className='base-container'>\n            <div className='content'>\n              <div className='image'> </div>{' '}\n              <div className='form'>\n                <div className='form-group'>\n                  <label id='username'> First Name </label>{' '}\n                  <input\n                    type='text'\n                    name='firstName'\n                    placeholder='First Name'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }\n                  />{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label htmlFor='username'> Last Name </label>{' '}\n                  <input\n                    type='text'\n                    name='lastName'\n                    placeholder='Last name'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }\n                  />{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label> Team </label>{' '}\n                  <select\n                    id='team'\n                    name='team'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }>\n                    <option disabled selected value>\n                      {' '}\n                      Please select a Team{' '}\n                    </option>{' '}\n                    {teams.map((team, index) => (\n                      <option value={team}> {team} </option>\n                    ))}{' '}\n                  </select>{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label> Email </label>{' '}\n                  <input\n                    type='text'\n                    name='email'\n                    placeholder='email'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }\n                  />{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label> Password </label>{' '}\n                  <input\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }\n                  />{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label> Confirm Password </label>{' '}\n                  <input\n                    type='password'\n                    name='passwordConfirm'\n                    placeholder='Confirm password'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }\n                  />{' '}\n                </div>{' '}\n                <div className='form-group'>\n                  <label> Permission </label>{' '}\n                  <select\n                    id='permission'\n                    name='permission'\n                    onChange={(e) =>\n                      this.changeValue(e.target.name, e.target.value)\n                    }>\n                    <option value='Coach'> Coach </option>{' '}\n                    <option value='Analyst'> Analyst </option>{' '}\n                  </select>{' '}\n                </div>{' '}\n              </div>{' '}\n            </div>{' '}\n            <button type='button' onClick={this.handleSubmit} className='btn'>\n              Register{' '}\n            </button>{' '}\n          </div>{' '}\n        </form>{' '}\n      </>\n    );\n  }\n}\n\nexport default AddAccountPage;\n"]},"metadata":{},"sourceType":"module"}