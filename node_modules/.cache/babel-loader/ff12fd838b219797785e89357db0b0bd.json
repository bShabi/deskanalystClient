{"ast":null,"code":"var _jsxFileName = \"/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/Manger/Account/AddAccountPage.js\";\nimport { TextField, Grid, makeStyles, Button } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport ManagerControl from '../ManagerControl';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nconst useStyle = makeStyles(theme => ({\n  root: {\n    '& .MuiGrid-root': {\n      width: '80%',\n      margin: theme.spacing(2)\n    }\n  }\n}));\n\nclass AddAccountPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      passwordConfirm: null,\n      team: \"\",\n      allTeam: [],\n      permission: null\n    };\n    this.changeValue = this.changeValue.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.registerUserToDB = this.registerUserToDB.bind(this);\n    this.getAllTeams = this.getAllTeams.bind(this);\n    this.isUserExist = this.isUserExist.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAllTeams();\n    toast.configure();\n  }\n\n  getAllTeams() {\n    axios.get('http://localhost:5000/teams/').then(result => {\n      const myTeam = [];\n      result.data.forEach(team => {\n        myTeam.push(team.teamName);\n      });\n      this.setState({\n        allTeam: myTeam\n      });\n    });\n  }\n\n  changeValue(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    var account = this.state;\n    var arrData = [];\n    Object.entries(account).map(([key, value]) => {\n      arrData.push(value);\n    });\n\n    for (let value of Object.values(arrData)) {\n      if (value == null || String(value).length === 0) {\n        toast.error(\"Please inert a value \");\n        return;\n      }\n    }\n\n    if (this.state.password !== this.state.passwordConfirm) {\n      toast.error(\"please make sure your password match\");\n      return;\n    } // check if email not exist\n\n\n    var isUserExist = this.isUserExist();\n\n    if (!isUserExist) {\n      this.registerUserToDB();\n    } else {\n      toast.warning(\"User Exist in DB\");\n    } // document.getElementById(\"username\").style.color = \"red\";\n    // console.log(this.state)\n    // this.registerUserToDB()\n\n  }\n\n  isUserExist() {\n    axios.post('http://localhost:5000/users/login', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  registerUserToDB() {\n    axios.post('http://localhost:5000/users/add', {\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      email: this.state.email,\n      password: Number(this.state.password),\n      teamName: this.state.team,\n      permission: this.state.permission\n    }).then(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const classes = makeStyles(theme => ({\n      root: {\n        '& .MuiTextField-root': {\n          margin: theme.spacing(1),\n          width: 200\n        }\n      }\n    }));\n    const teams = this.state.allTeam;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ManagerControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, \" First Name \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"firstName\",\n      placeholder: \"First Name\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 52\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }, \" Last Name \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"lastName\",\n      placeholder: \"Last name\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 56\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }\n    }, \" Team \"), \" \", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"team\",\n      name: \"team\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, \" Please select a Team \"), \" \", teams.map((team, index) => /*#__PURE__*/React.createElement(\"option\", {\n      value: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 38\n      }\n    }, \" \", team, \" \")), \" \"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }\n    }, \" Email \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"email\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 31\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }\n    }, \" Password \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 34\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }\n    }, \" Confirm Password \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"passwordConfirm\",\n      placeholder: \"Confirm password\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 42\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, \" Permission \"), \" \", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"permission\",\n      name: \"permission\",\n      onChange: e => this.changeValue(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Coach\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }\n    }, \" Coach \"), \" \", /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Analyst\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 49\n      }\n    }, \" Analyst \"), \" \"), \" \"), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleSubmit,\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, \"Register \")), \" \"));\n  }\n\n}\n\nexport default AddAccountPage;","map":{"version":3,"sources":["/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/Manger/Account/AddAccountPage.js"],"names":["TextField","Grid","makeStyles","Button","React","useState","useEffect","ManagerControl","axios","ToastContainer","toast","useStyle","theme","root","width","margin","spacing","AddAccountPage","Component","constructor","props","state","firstName","lastName","email","password","passwordConfirm","team","allTeam","permission","changeValue","bind","handleSubmit","registerUserToDB","getAllTeams","isUserExist","componentDidMount","configure","get","then","result","myTeam","data","forEach","push","teamName","setState","name","value","e","account","arrData","Object","entries","map","key","values","String","length","error","warning","post","response","console","log","Number","render","classes","teams","target","index"],"mappings":"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","sourcesContent":["import {\n  TextField,\n  Grid,\n  makeStyles,\n  Button\n} from '@material-ui/core'\nimport React, {\n  useState,\n  useEffect\n} from 'react'\nimport ManagerControl from '../ManagerControl'\nimport axios from 'axios'\nimport {\n  ToastContainer,\n  toast\n} from 'react-toastify';\n\n\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    '& .MuiGrid-root': {\n      width: '80%',\n      margin: theme.spacing(2)\n    }\n  }\n}))\n\n\nclass AddAccountPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      passwordConfirm: null,\n      team: \"\",\n      allTeam: [],\n      permission: null\n    }\n    this.changeValue = this.changeValue.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.registerUserToDB = this.registerUserToDB.bind(this)\n    this.getAllTeams = this.getAllTeams.bind(this)\n    this.isUserExist = this.isUserExist.bind(this)\n  }\n  componentDidMount() {\n    this.getAllTeams();\n    toast.configure()\n  }\n  getAllTeams() {\n    axios.get('http://localhost:5000/teams/')\n      .then(\n        result => {\n          const myTeam = []\n          result.data.forEach(team => {\n            myTeam.push(team.teamName)\n          });\n          this.setState({\n            allTeam: myTeam\n          })\n        })\n\n  }\n  changeValue(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(e) {\n    var account = this.state;\n    var arrData = []\n    Object.entries(account).map(([key, value]) => {\n      arrData.push(value)\n    })\n    for (let value of Object.values(arrData)) {\n      if (value == null || String(value).length === 0) {\n        toast.error(\"Please inert a value \")\n        return\n      }\n    }\n    if (this.state.password !== this.state.passwordConfirm) {\n      toast.error(\"please make sure your password match\")\n      return;\n    }\n\n    // check if email not exist\n    var isUserExist = this.isUserExist()\n    if (!isUserExist) {\n      this.registerUserToDB()\n    } else {\n      toast.warning(\"User Exist in DB\")\n    }\n\n    // document.getElementById(\"username\").style.color = \"red\";\n    // console.log(this.state)\n    // this.registerUserToDB()\n  }\n  isUserExist() {\n    axios.post('http://localhost:5000/users/login', {\n        email: this.state.email,\n        password: this.state.password\n      })\n      .then((response) => {\n\n        console.log(response)\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  registerUserToDB() {\n    axios.post('http://localhost:5000/users/add', {\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        email: this.state.email,\n        password: Number(this.state.password),\n        teamName: this.state.team,\n        permission: this.state.permission,\n\n\n      })\n      .then((response) => {\n        console.log(response);\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    const classes = makeStyles((theme) => ({\n      root: {\n        '& .MuiTextField-root': {\n          margin: theme.spacing(1),\n          width: 200,\n        },\n      },\n    }));\n    const teams = this.state.allTeam\n    return ( <\n      >\n      <\n      ManagerControl / >\n      <\n      form >\n      <\n      div className = \"base-container\" >\n      <\n      div className = \"content\" >\n      <\n      div className = \"image\" >\n\n      <\n      /div> <\n      div className = \"form\" >\n      <\n      div className = \"form-group\" >\n      <\n      label id = \"username\" > First Name < /label> <\n      input type = \"text\"\n      name = \"firstName\"\n      placeholder = \"First Name\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label htmlFor = \"username\" > Last Name < /label> <\n      input type = \"text\"\n      name = \"lastName\"\n      placeholder = \"Last name\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label > Team < /label> <\n      select id = \"team\"\n      name = \"team\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      } >\n      <\n      option disabled selected value > Please select a Team < /option> {\n        teams.map((team, index) => ( <\n          option value = {\n            team\n          } > {\n            team\n          } < /option>\n        ))\n      } <\n      /select> <\n      /div>\n\n      <\n      div className = \"form-group\" >\n      <\n      label > Email < /label> <\n      input type = \"text\"\n      name = \"email\"\n      placeholder = \"email\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label > Password < /label> <\n      input type = \"password\"\n      name = \"password\"\n      placeholder = \"password\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label > Confirm Password < /label> <\n      input type = \"password\"\n      name = \"passwordConfirm\"\n      placeholder = \"Confirm password\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label > Permission < /label> <\n      select id = \"permission\"\n      name = \"permission\"\n      onChange = {\n        (e) => this.changeValue(e.target.name, e.target.value)\n      } >\n      <\n      option value = \"Coach\" > Coach < /option> <\n      option value = \"Analyst\" > Analyst < /option> <\n      /select> <\n      /div> <\n      /div> <\n      /div> <\n      button type = \"button\"\n      onClick = {\n        this.handleSubmit\n      }\n      className = \"btn\" >\n      Register <\n      /button>\n\n      <\n      /div> <\n      /form>\n\n\n      <\n      />\n\n    );\n  }\n\n}\n\nexport default AddAccountPage"]},"metadata":{},"sourceType":"module"}