{"ast":null,"code":"var _jsxFileName = \"/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/LoginPage.jsx\";\nimport React from 'react';\nimport loginImg from \"../../login.svg\";\nimport '../css/App.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass _LoginPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      redirect: false,\n      email: '',\n      password: '',\n      nameTeam: ''\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    const user = JSON.parse(sessionStorage.getItem(\"loginUser\"));\n\n    if (user) {\n      this.props.history.push('/Dashboard');\n    }\n\n    toast.configure();\n  }\n\n  onChange(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit() {\n    axios.post('http://localhost:5000/users/login', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      console.log(response);\n\n      if (response.data === null) {\n        toast.error('email or password is incorrect');\n      } else {\n        console.log(response.data);\n        sessionStorage.setItem('loginUser', JSON.stringify(response.data));\n        console.log(response.data.permission);\n        this.setState({\n          nameTeam: response.data.nameTeam\n        });\n        this.props.history.push('/Dashboard');\n        toast.success('success');\n        window.location.reload();\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      action: \"onSubmit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \" \"), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: loginImg,\n      style: {\n        width: '50%',\n        height: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \" Username \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: e => this.onChange(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }), ' '), ' ', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \" Password \"), ' ', /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: e => this.onChange(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), ' '), ' '), ' '), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmit,\n      type: \"button\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, \"Login\", ' '), ' '), ' '), ' ');\n  }\n\n}\n\nexport function nameTeam() {\n  return this.state.nameTeam;\n}\nexport const LoginPage = withRouter(_LoginPage);","map":{"version":3,"sources":["/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/LoginPage.jsx"],"names":["React","axios","withRouter","ToastContainer","toast","_LoginPage","Component","constructor","state","redirect","email","password","nameTeam","onSubmit","bind","onChange","componentDidMount","user","JSON","parse","sessionStorage","getItem","props","history","push","configure","name","value","setState","post","then","response","console","log","data","error","setItem","stringify","permission","success","window","location","reload","render","loginImg","width","height","e","target","LoginPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport loginImg from '../../login.svg';\nimport '../css/App.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass _LoginPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      redirect: false,\n      email: '',\n      password: '',\n      nameTeam: '',\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n  componentDidMount() {\n    const user = JSON.parse(sessionStorage.getItem(\"loginUser\"))\n    if(user) {\n      this.props.history.push('/Dashboard')\n    }    toast.configure();\n  }\n\n  onChange(name, value) {\n    this.setState({\n      [name]: value,\n    });\n  }\n  onSubmit() {\n    axios\n      .post('http://localhost:5000/users/login', {\n        email: this.state.email,\n        password: this.state.password,\n      })\n      .then(\n        (response) => {\n          console.log(response);\n          if (response.data === null) {\n            toast.error('email or password is incorrect');\n          } else {\n            console.log(response.data);\n            sessionStorage.setItem('loginUser', JSON.stringify(response.data));\n            console.log(response.data.permission)\n            this.setState({\n              nameTeam: response.data.nameTeam,\n            });\n            this.props.history.push('/Dashboard');\n            toast.success('success');\n            window.location.reload();\n          }\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }\n\n  render() {\n    return (\n      <form action='onSubmit'>\n        <div className='base-container'>\n          <div className='header'> </div>{' '}\n          <div className='content'>\n            <div className='image'>\n              <img\n                src={loginImg}\n                style={{\n                  width: '50%',\n                  height: '50%',\n                }}\n              />{' '}\n            </div>{' '}\n            <div className='form'>\n              <div className='form-group'>\n                <label htmlFor='username'> Username </label>{' '}\n                <input\n                  type='text'\n                  name='email'\n                  placeholder='Email'\n                  onChange={(e) => this.onChange(e.target.name, e.target.value)}\n                />{' '}\n              </div>{' '}\n              <div className='form-group'>\n                <label htmlFor='password'> Password </label>{' '}\n                <input\n                  type='password'\n                  name='password'\n                  placeholder='Password'\n                  onChange={(e) => this.onChange(e.target.name, e.target.value)}\n                />{' '}\n              </div>{' '}\n            </div>{' '}\n          </div>\n          <div className='footer'>\n            <button onClick={this.onSubmit} type='button' className='btn'>\n              Login{' '}\n            </button>{' '}\n          </div>{' '}\n        </div>{' '}\n      </form>\n    );\n  }\n}\nexport function nameTeam() {\n\treturn this.state.nameTeam\n}\nexport const LoginPage = withRouter(_LoginPage);\n"]},"metadata":{},"sourceType":"module"}