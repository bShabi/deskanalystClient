{"ast":null,"code":"var _jsxFileName = \"/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/LoginPage.jsx\";\nimport React from \"react\";\nimport loginImg from \"../../login.svg\";\nimport '../css/App.css';\nimport axios from 'axios';\nimport { withRouter } from \"react-router\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass _LoginPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      TeamName: \"Macbi Haifa\",\n      redirect: false,\n      email: \"\",\n      password: \"\",\n      nameTeam: \"\"\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    toast.configure();\n  }\n\n  onChange(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit() {\n    axios.post('http://localhost:5000/users/login', {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      console.log(response);\n\n      if (response.data === null) {\n        toast.error(\"email or password is incorrect\");\n      } else {\n        console.log(response.data);\n        sessionStorage.setItem(\"loginUser\", JSON.stringify(response.data));\n        this.setState({\n          nameTeam: response.data.nameTeam\n        });\n        this.props.history.push('/Dashboard');\n        toast.success(\"success\");\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      action: \"onSubmit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"base-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 42\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: loginImg,\n      style: {\n        width: '50%',\n        height: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, \" Username \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: e => this.onChange(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 55\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, \" Password \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: e => this.onChange(e.target.name, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 55\n      }\n    }), \" \"), \" \"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmit,\n      type: \"button\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, \"Login \"), \" \"), \" \"), \" \");\n  }\n\n}\n\nexport const LoginPage = withRouter(_LoginPage);","map":{"version":3,"sources":["/Users/benshabi/Desktop/deskanalyst/client/src/components/Pages/LoginPage.jsx"],"names":["React","axios","withRouter","ToastContainer","toast","_LoginPage","Component","constructor","state","TeamName","redirect","email","password","nameTeam","onSubmit","bind","onChange","componentDidMount","console","log","props","configure","name","value","setState","post","then","response","data","error","sessionStorage","setItem","JSON","stringify","history","push","success","render","loginImg","width","height","e","target","LoginPage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport loginImg from \"../../login.svg\";\nimport '../css/App.css';\nimport axios from 'axios'\nimport {\n  withRouter\n} from \"react-router\";\nimport {\n  ToastContainer,\n  toast\n} from 'react-toastify';\n\n\nclass _LoginPage extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      TeamName: \"Macbi Haifa\",\n      redirect: false,\n      email: \"\",\n      password: \"\",\n      nameTeam: \"\"\n    }\n    this.onSubmit = this.onSubmit.bind(this)\n    this.onChange = this.onChange.bind(this)\n\n  }\n  componentDidMount() {\n    console.log(this.props)\n    toast.configure()\n  }\n  onChange(name, value) {\n    this.setState({\n      [name]: value\n    });\n\n  }\n  onSubmit() {\n    axios.post('http://localhost:5000/users/login', {\n        email: this.state.email,\n        password: this.state.password\n      })\n      .then((response) => {\n        console.log(response)\n        if (response.data === null) {\n          toast.error(\"email or password is incorrect\")\n\n        } else {\n          console.log(response.data)\n          sessionStorage.setItem(\"loginUser\", JSON.stringify(response.data))\n          this.setState({\n            nameTeam: response.data.nameTeam\n          })\n          this.props.history.push('/Dashboard')\n          toast.success(\"success\");\n        }\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n\n  render() {\n\n\n    return ( <\n      form action = \"onSubmit\" >\n      <\n      div className = \"base-container\" >\n      <\n      div className = \"header\" > < /div> <\n      div className = \"content\" >\n      <\n      div className = \"image\" >\n      <\n      img src = {\n        loginImg\n      }\n      style = {\n        {\n          width: '50%',\n          height: '50%'\n        }\n      }\n      /> <\n      /div> <\n      div className = \"form\" >\n      <\n      div className = \"form-group\" >\n      <\n      label htmlFor = \"username\" > Username < /label> <\n      input type = \"text\"\n      name = \"email\"\n      placeholder = \"Email\"\n      onChange = {\n        (e) => this.onChange(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      div className = \"form-group\" >\n      <\n      label htmlFor = \"password\" > Password < /label> <\n      input type = \"password\"\n      name = \"password\"\n      placeholder = \"Password\"\n      onChange = {\n        (e) => this.onChange(e.target.name, e.target.value)\n      }\n      /> <\n      /div> <\n      /div> <\n      /div>\n\n      <\n      div className = \"footer\" >\n      <\n      button onClick = {\n        this.onSubmit\n      }\n      type = \"button\"\n      className = \"btn\" >\n      Login <\n      /button> <\n      /div> <\n      /div> <\n      /form>\n    );\n  }\n}\nexport const LoginPage = withRouter(_LoginPage);"]},"metadata":{},"sourceType":"module"}