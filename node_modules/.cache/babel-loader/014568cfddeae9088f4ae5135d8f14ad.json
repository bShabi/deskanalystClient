{"ast":null,"code":"var _jsxFileName = \"/Users/benshabi/Desktop/deskanalyst/client/src/components/layout/FileUpload.js\";\nimport React, { useState, Fragment } from \"react\";\nimport axios from \"axios\";\nimport Player from \"./players-component\";\n\nconst FileUpload = () => {\n  const [file, setFile] = useState(\"\");\n  const [filename, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n\n    try {\n      setFilename(e.target.files[0].name);\n    } catch (error) {\n      console.log(error.response.data.msg);\n    }\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const res = await axios.post(\"http://localhost:5000/upload/:name\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const {\n        fileName,\n        filePath\n      } = res.data;\n      console.log(res.data);\n      setUploadedFile({\n        fileName,\n        filePath\n      });\n    } catch (error) {\n      if (error.response.status === 500) {\n        console.log(\"there was problem with the server\");\n      } else {\n        console.log(error.response.data.msg);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Upload New CSV File:\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"custom-file-input\",\n    id: \"customFile\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"customFile\",\n    className: \"custom-file-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, filename)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Player, {\n    name: filename,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default FileUpload;","map":{"version":3,"sources":["/Users/benshabi/Desktop/deskanalyst/client/src/components/layout/FileUpload.js"],"names":["React","useState","Fragment","axios","Player","FileUpload","file","setFile","filename","setFilename","uploadedFile","setUploadedFile","onChange","e","target","files","name","error","console","log","response","data","msg","onSubmit","preventDefault","formData","FormData","append","res","post","headers","fileName","filePath","status"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from \"react\";\nimport axios from \"axios\";\nimport Player from \"./players-component\";\n\nconst FileUpload = () => {\n  const [file, setFile] = useState(\"\");\n  const [filename, setFilename] = useState(\"Choose File\");\n  const [uploadedFile, setUploadedFile] = useState({});\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    try {\n      setFilename(e.target.files[0].name);\n    } catch (error) {\n      console.log(error.response.data.msg);\n    }\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const res = await axios.post(\n        \"http://localhost:5000/upload/:name\",\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        }\n      );\n\n      const { fileName, filePath } = res.data;\n      console.log(res.data);\n      setUploadedFile({ fileName, filePath });\n    } catch (error) {\n      if (error.response.status === 500) {\n        console.log(\"there was problem with the server\");\n      } else {\n        console.log(error.response.data.msg);\n      }\n    }\n  };\n  return (\n    <Fragment>\n      <h2>Upload New CSV File:</h2>\n      <br />\n      <form onSubmit={onSubmit}>\n        <div className=\"custom-file mb-4\">\n          <input\n            type=\"file\"\n            className=\"custom-file-input\"\n            id=\"customFile\"\n            onChange={onChange}\n          />\n          <label htmlFor=\"customFile\" className=\"custom-file-label\">\n            {filename}\n          </label>\n        </div>\n        <div className=\"container\">\n          <Player name={filename} />\n        </div>\n      </form>\n    </Fragment>\n  );\n};\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}